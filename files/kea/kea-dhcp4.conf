{
    "Dhcp4": {
        "interfaces-config": {
            "interfaces": [ "enp0s25.20", "enp0s25.69" ]
        },
        "control-socket": {
            "socket-type": "unix",
            "socket-name": "/run/kea/kea4-ctrl-socket"
        },
        "lease-database": {
            "type": "mysql",
            "name": "{{ config.mariadb.users['kea'].database }}",
            "user": "{{ config.mariadb.users['kea'].username }}",
            "password": "{{ config.mariadb.users['kea'].password }}",
            "host": "localhost",
            "port": 3306
        },
        "expired-leases-processing": {
            "reclaim-timer-wait-time": 10,
            "flush-reclaimed-timer-wait-time": 25,
            "hold-reclaimed-time": 3600,
            "max-reclaim-leases": 100,
            "max-reclaim-time": 250,
            "unwarned-reclaim-cycles": 5
        },
        "renew-timer": 900,
        "rebind-timer": 1800,
        "valid-lifetime": 3600,
        "hooks-libraries": [
            {
                "library": "/opt/lib/kea/hooks/libdhcp_mysql.so"
            }
        ],
        "subnet4": [
            {
                "id": 1,
                "subnet": "192.168.1.0/27",
                "pools": [
                    {
                        "pool": "192.168.1.1 - 192.168.1.30"
                    }
                ],
                "option-data": [
                    {
                        "name": "routers",
                        "data": "192.168.1.1"
                    },
                    {
                        "name": "domain-name-servers",
                        "data": "1.1.1.1"
                    },
                    {
                        "name": "domain-search",
                        "data": "puolustusvoimat.fi"
                    }
                ],
                "user-context": {
                    "name": "Tinu",
                    "purpose": "Internet"
                },
                "reservations": [
                    {
                        "hw-address": "00:1d:46:dc:80:09",
                        "ip-address": "192.168.1.1",
                        "hostname": "r1.net.tjas"
                    },
                    {
                        "hw-address": "9c:8e:99:9b:c3:80",
                        "ip-address": "192.168.1.2",
                        "hostname": "s1.net.tjas"
                    }
                ]
            },
            {
                "id": 2,
                "subnet": "192.168.2.0/27",
                "pools": [
                    {
                        "pool": "192.168.2.1 - 192.168.2.30"
                    }
                ],
                "option-data": [
                    {
                        "name": "routers",
                        "data": "192.168.2.1"
                    },
                    {
                        "name": "domain-name-servers",
                        "data": "192.168.2.10, 1.1.1.1"
                    },
                    {
                        "name": "domain-name",
                        "data": "juva.tjas"
                    },
                    {
                        "name": "domain-search",
                        "data": "juva.tjas, tjas"
                    }
                ],
                "user-context": {
                    "name": "Juva",
                    "purpose": "Intra"
                },
                "reservations": [
                    {
                        "hw-address": "00:1d:46:dc:80:09",
                        "ip-address": "192.168.2.1",
                        "hostname": "r1.net.tjas"
                    },
                    {
                        "hw-address": "00:24:a8:f1:c7:40",
                        "ip-address": "192.168.2.2",
                        "hostname": "s2.net.tjas"
                    },
                    {
                        "hw-address": "90:1b:0e:5b:18:fa",
                        "ip-address": "192.168.2.10",
                        "hostname": "olympus.juva.tjas"
                    }
                ]
            },
            {
                "id": 3,
                "subnet": "192.168.3.0/27",
                "pools": [
                    {
                        "pool": "192.168.3.1 - 192.168.3.30"
                    }
                ],
                "option-data": [
                    {
                        "name": "routers",
                        "data": "192.168.3.1"
                    },
                    {
                        "name": "domain-name-servers",
                        "data": "192.168.2.10"
                    },
                    {
                        "name": "domain-name",
                        "data": "aito.tjas"
                    },
                    {
                        "name": "domain-search",
                        "data": "aito.tjas, tjas"
                    }
                ],
                "user-context": {
                    "name": "Aito",
                    "purpose": "Toimisto"
                },
                "reservations": [
                    {
                        "hw-address": "00:1d:46:dc:80:09",
                        "ip-address": "192.168.3.1",
                        "hostname": "r1.net.tjas"
                    },
                    {
                        "hw-address": "00:1f:fe:ab:9e:c0",
                        "ip-address": "192.168.3.2",
                        "hostname": "s3.net.tjas"
                    }
                ]
            },
            {
                "id": 69,
                "subnet": "192.168.69.0/26",
                "pools": [
                    {
                        "pool": "192.168.69.1 - 192.168.69.62"
                    },
                ],
                "option-data": [
                    {
                        "name": "domain-name-servers",
                        "data": "192.168.69.20"
                    },
                    {
                        "name": "domain-name",
                        "data": "sive.tjas"
                    },
                    {
                        "name": "domain-search",
                        "data": "sive.tjas"
                    }
                ],
                "user-context": {
                    "name": "Sive",
                    "purpose": "Hallinta"
                },
                "reservations": [
                    {
                        "hw-address": "00:1d:46:dc:80:09",
                        "ip-address": "192.168.69.1",
                        "hostname": "r1.net.tjas"
                    },
                    {
                        "hw-address": "9c:8e:99:9b:c3:80",
                        "ip-address": "192.168.69.11",
                        "hostname": "s1.net.tjas"
                    },
                    {
                        "hw-address": "00:24:a8:f1:c7:40",
                        "ip-address": "192.168.69.12",
                        "hostname": "s2.net.tjas"
                    },
                    {
                        "hw-address": "00:24:a8:f1:c7:40",
                        "ip-address": "192.168.69.13",
                        "hostname": "s3.net.tjas"
                    },
                    {
                        "hw-address": "90:1b:0e:5b:18:fa",
                        "ip-address": "192.168.69.20",
                        "hostname": "olympus.juva.tjas"
                    }
                ]
            }
        ],

        "loggers": [
            {
                "name": "kea-dhcp4",
                "output_options": [
                    {
                        "output": "stdout",
                        "pattern": "%-5p %m\n"
                    }
                ],
                "severity": "ERROR",
                "debuglevel": 0
            }
        ]
    }
}
